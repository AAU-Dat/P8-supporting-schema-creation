\subsection{Termination}\label{subsec:termination}

In this subsection we will argument for our analysis terminating.

Our analysis takes base in the constraint function $f$ defined in \autoref{eq:constraint}.
Hence, to prove that our analysis terminates, we would need to show that this function $f$ always reaches a fixed point.
Therefore, from \autoref{thm:kleene_finite} we need to show that the function is monotone and defined over a complete and finite lattice.

Now, looking at the type of $f$, we see that it maps from and to tuples over the powerset of abstract environments.
So from \autoref{thm:kleene_finite}, we see that, in order for the analysis to reach a fixed point in a finite number of steps, $\bigtimes_{i = 1}^n \mathcal{P}(\ab{\mathfrak{E}})$ has to be a finite and complete lattice.

To show that $\bigtimes_{i = 1}^n \mathcal{P}(\ab{\mathfrak{E}})$ is finite and complete, we must first show that $\ab{\mathfrak{E}}$ is finite.
To show that $\ab{\mathfrak{E}}$ is finite, we prove the following theorem:

\begin{restatable}{theorem}{absenv}\label{thm:absenv}
$\ab{\mathfrak{E}}$ is finite.
\end{restatable}

Now, from \autoref{thm:absenv} and \autoref{thm:powerset} we can conclude that the powerset $\mathcal{P}(\ab{\mathfrak{E}})$ is a finite and complete lattice.
Following this, from \autoref{thm:product-lattice} it also holds that $\bigtimes_{i = 1}^n \mathcal{P}(\ab{\mathfrak{E}})$ is a finite and complete lattice.

If $\abssem{I}$ is monotone, then $f$ is monotone.
Though, we have already showed in \autoref{thm:csql} that $\abssem{I}$ is monotone, hence $f$ is also monotone.

Since our constraint function $f$ is a monotone function over the complete and finite lattice $\bigtimes_{i = 1}^n \mathcal{P}(\ab{\mathfrak{E}})$, we can conclude from \autoref{thm:kleene_finite} that our analysis reaches a fixed point in a finite number of steps, proving termination.
